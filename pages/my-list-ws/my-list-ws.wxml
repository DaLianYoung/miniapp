<!--index.wxml-->
<view class="page">
  <van-search
          value="{{ value }}"
          placeholder="请输入搜索关键词"
          use-action-slot
          use-location-slot
          bind:search="onSearch"
  >
    <view slot="location" bind:tap="openLocation">
      <view class="location-trigger">
        <view class="caret">大连</view>
      </view>
    </view>
    <view slot="action" bind:tap="onSearch">搜索</view>
  </van-search>
  <view class="filter-wrap clearfix">
    <view class="field">
      <view class="caret" bind:tap="openFilterOne">条件-1</view>
    </view>
    <view class="field">
      <view class="caret">条件-2</view>
    </view>
    <view class="field">
      <view class="caret">条件-3</view>
    </view>
  </view>

  <van-transition name="fade-up" show="{{ isShowFilterOne }}" custom-class="filterBlock">
    <van-radio-group value="{{ filterOne }}" bind:change="filterOneChange">
      <van-cell-group>
        <van-cell title="不限" clickable data-name="0" bind:click="filterItemClick">
          <van-radio name="0" />
        </van-cell>
        <van-cell title="单选框 1" clickable data-name="1" bind:click="filterItemClick">
          <van-radio name="1" />
        </van-cell>
        <van-cell title="单选框 2" clickable data-name="2" bind:click="filterItemClick">
          <van-radio name="2" />
        </van-cell>
      </van-cell-group>
    </van-radio-group>
    <!--<view>-->
      <!--<button hover-class="my-button-hover" class="weui-btn no-radius w50Btn" type="primary" bindtap="">确定</button>-->
      <!--<button class="weui-btn no-radius w50Btn" bindtap="">取消</button>-->
    <!--</view>-->
  </van-transition>

  <view class="card-wrap">
    <van-card wx:for="{{dataList}}" wx:key="{{item.id}}" title="工单号：{{item.damageId}}" thumb="{{ imageURL }}" data-id="{{item.damageId}}" bindtap="goToHandleTask">
      <view slot="desc">
        <view>客户：{{item.customerUser}} | 受损方：{{item.damagedUser}}</view>
        <view>工单状态：{{item.status}}</view>
        <view>创建时间：{{item.createTime}}</view>
      </view>
    </van-card>
  </view>

  <van-popup
          show="{{ show }}"
          position="bottom"
          overlay="{{ true }}"
          bind:close="onClose"
          bind:confirm="onConfirm"
  >
    <van-area area-list="{{ areaList }}" value="110101" />
  </van-popup>
</view>